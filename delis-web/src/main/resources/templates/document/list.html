<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	th:replace="~{fragments/layout :: layout (~{::body})}">
<body>
	<div class="card border-primary">
		<div class="card-header bg-primary text-white">
			Documents
		</div>
		<div class="card-body">
			<form method="POST" enctype="multipart/form-data" action="/document/list/filter" th:action="@{/document/list/filter}">
			<table class="table form-group">
				<tr>
					<th>Received</th>
					<th>Organisation</th>
					<th>Status</th>
					<th>Format</th>
				</tr>
				<tr>
					<td>
						<select class="form-control">
							<option>Today</option>
							<option>Last week</option>
							<option>Last month</option>
						</select>
					</td>
					<td>
						<select class="form-control">
							<option>All</option>
							<option>Undefined</option>
							<option>Region Midt</option>
							<option>Region Nord</option>
						</select>
					</td>
					<td>
						<select class="form-control">
							<option>All</option>
							<option>LOAD OK</option>
						</select>
					</td>
					<td>
						<select class="form-control">
							<option>All</option>
							<option>CII</option>
							<option>BIS3</option>
							<option>OIOUBL</option>
						</select>
					</td>
				</tr>
			</table>
			</form>

			<form action="#" th:action="@{/document/updatestatuses}" th:object="${selectedIdList}" method="post">
			<table class="table table-striped table-bordered table-sm">
				<tr>
					<th>
						<input type="checkbox" class="selectAll checkbox" name="selectAll" id="selectAll" />
					</th>
					<th>Received</th>
					<th>Organisation</th>
					<th>Receiver</th>
					<th>Status</th>
					<th>Ingoing Type</th>
					<th>Ingoing Format</th>
					<th>Sender</th>
				</tr>
				<tr th:each="r,iter : ${documentList}">
					<td><input type="checkbox" th:field="*{idList}" th:value="${r.id}" class="selectItem checkbox" name="selectItem" id="selectItem"/></td>
					<td>
						<a href="#" th:href="@{/document/view/__${r.id}__}" th:text="${#dates.format(r.createTime, 'yyyy-MM-dd HH:mm:ss')}">2018-10-12 10:43:22</a>
					</td>
					<td>
						<a th:if="${r.organisation}" href="#" th:href="@{/organisation/view/__${r.organisation.id}__}" th:text="${r.organisation.name}">Region Nord</a>
					</td>
					<td>
						<a th:if="${r.receiverIdentifier}" href="#" th:href="@{/identifier/view/__${r.receiverIdentifier.id}__}" th:text="${r.receiverIdentifier.name}">Receiver name</a>
						<span th:text="${r.receiverIdRaw}">0088:234234234</span>
					</td>
					<td th:text="${r.documentStatus}">LOAD_OK</td>
					<td th:text="${r.ingoingDocumentFormat.documentType}">Invoice</td>
					<td th:text="${r.ingoingDocumentFormat}">BIS3_INVOICE</td>
					<td th:text="${r.senderName}">Lego Spain</td>
				</tr>
			</table>
			<div class="card-footer">
				<div class="d-flex justify-content-start">
					<label class="m-2 col-form-label">Status:</label>
					<select th:field="*{status}" class="m-2">
						<option th:each="documentStatus : ${statusList}" th:text="${documentStatus}" th:value="${documentStatus}"></option>
					</select>
					<button type="submit" class="m-2 btn btn-primary">Update Statuses</button>
				</div>
			</div>
			</form>
		</div>
	</div>
	
	<div class="card">
		<div class="card-header bg-primary text-white">
			Upload document
		</div>
		<div class="card-body">
			<form method="POST" enctype="multipart/form-data" action="/document/upload" th:action="@{/document/upload}">
				<div class="form-group">
					<label for="file1">File:</label>
					<input type="file" name="file" class="form-control-file" id="file1" />
				</div>
				<div class="form-check mb-2">
					<input type="checkbox" name="validateImmediately" class="form-check-input" id="validateImmediately" />
					<label for="validateImmediately" class="form-check-label">Validate immediately</label>
				</div>
				<input class="btn btn-primary" type="submit" value="Upload" />
			</form>
		</div>
	</div>
	
</body>
</html>