<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	th:replace="~{fragments/layout :: layout (~{::body})}">
<body>
	<div class="card border-primary">
		<div class="card-header bg-primary text-white">
			<span th:text="${organisation.name}">Organisation name</span>
			(<span th:text="${organisation.code}">Code</span>)
		</div>
		<div class="card-body">
			<table class="table table-striped table-bordered table-sm">
				<tr>
					<th>Identifiers total</th>
					<th>Active published</th>
					<th>Pending active</th>
					<th>Pending deletion</th>
					<th>Failed publishing</th>
				</tr>
				<tr th:if="${stat}">
					<td><a href="#" th:href="@{/identifier/list/__${organisation.id}__}" th:text="${stat.total}"></a></td>
					<td th:text="${stat.activeDone}">7</td>
					<td th:text="${stat.activePending}">1</td>
					<td th:text="${stat.disabledPending}">1</td>
					<td th:text="${stat.failed}">1</td>
				</tr>
			</table>
		</div>
		<div class="card-footer">
			<a href="#" th:href="@{/home}" class="btn btn-primary">Home</a>
		</div>
	</div>
	
	<div class="card">
		<div class="card-header bg-primary text-white">
			Upload identifier list
		</div>
		<div class="card-body">
			<form method="POST" enctype="multipart/form-data" action="/organisation/upload/213" th:action="@{/organisation/upload/__${organisation.id}__}">
				<div class="form-group">
					<label for="file1">File:</label><input type="file" name="file" class="form-control-file" id="file1" />
				</div>
				<input class="btn btn-primary" type="submit" value="Upload" />
			</form>
		</div>
	</div>
	
	
	<div class="card my-2">
		<div class="card-header bg-primary text-white">
			Configuration
		</div>
		<div class="card-body">
			<table class="table table-striped table-bordered table-sm">
				<tr>
					<th>C4 receiving format</th>
					<td>
						<select>
							<option>OIOUBL - convert everything to OIOUBL</option>
							<option>BIS3 - keep BIS3 always</option>
							<option>BIS3 positive - keep BIS3 if it is positive amount, otherwise convert to proper BIS3</option>
							<option>No transformation - keep ingoing to C3</option>
						</select>
					</td>
				</tr>
				<tr>
					<th>Subscribed SMP profiles</th>
					<td>
						<ul style="list-style: none;">
							<li><input id="smpProfile_CII" type="checkbox" checked></input>  <label for="smpProfile_CII">CII</label></li>	
							<li><input id="smpProfile_BIS3" type="checkbox" checked></input> <label for="smpProfile_BIS3">BIS3</label>
								<ul>
									<li>
								urn:oasis:names:specification:ubl:schema:xsd:Invoice-2::Invoice##urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0::2.1
									</li>
									<li>
								urn:oasis:names:specification:ubl:schema:xsd:CreditNote-2::CreditNote##urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0::2.1
									</li>
								</ul> 
							</li>
							<li><input id="smpProfile_OIOUBL" type="checkbox" checked></input> <label for="smpProfile_OIOUBL">OIOUBL</label>
								<ul>
							<li>busdox-docid-qns::urn:oasis:names:specification:ubl:schema:xsd:Invoice-2::Invoice##OIOUBL-2.02::2.0</li>	
							<li>busdox-docid-qns::urn:oasis:names:specification:ubl:schema:xsd:CreditNote-2::CreditNote##OIOUBL-2.02::2.0</li>	
								</ul>
						</ul>
					</td>
				</tr>
			</table>
		</div>
	</div>
	
	<div class="card">
		<div class="card-header bg-primary text-white">
			Journal records
		</div>
		<div class="card-body">
			<table class="table table-striped table-bordered table-sm">
				<tr>
					<th>Date</th>
					<th>Message</th>
					<th>Duration, ms</th>
				</tr>
				<tr th:each="r,iter : ${lastJournalList}">
					<td th:text="${r.createTime}"></td>
					<td th:text="${r.message}"></td>
					<td th:text="${r.durationMs}"/>
				</tr>
			</table>
		</div>
	</div>

	<div class="card">
		<div class="card-header bg-primary text-white">
			Synchronizations
		</div>
		<div class="card-body">
			<table class="table table-striped table-bordered table-sm">
				<tr>
					<th>Date</th>
					<th>Message</th>
					<th>Duration, ms</th>
					<th>Total</th>
					<th>Equal</th>
					<th>Add</th>
					<th>Update</th>
					<th>Delete</th>
					<th>Failed</th>
				</tr>
				<tr th:each="r,iter : ${lastSyncFactList}">
					<td th:text="${r.createTime}"></td>
					<td th:text="${r.description}"></td>
					<td th:text="${r.durationMs}"/>
					<td th:text="${r.total}"/>
					<td th:text="${r.equal}"/>
					<td th:text="${r.add}"/>
					<td th:text="${r.update}"/>
					<td th:text="${r.delete}"/>
					<td th:text="${r.failed}"/>
				</tr>
			</table>
		</div>
	</div>
	
</body>
</html>