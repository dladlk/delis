<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	th:replace="~{fragments/layout :: layout (~{::body})}">
<body>
	<div class="card border-primary">
		<div class="card-header bg-primary text-white">
			Users
		</div>
		<div class="card-body">
			<table class="table table-striped table-bordered table-sm">
				<tr>
					<th>Login name</th>
					<th>Organisation</th>
					<th>Email</th>
					<th>First name</th>
					<th>Last name</th>
					<th>IR Form</th>
					<th>Actions</th>
				</tr>
				<tr th:each="user,iter : ${users}">
					<td th:text="${user.username}"></td>
					<td>
						<a href="#" th:href="@{|/organisation/view/${user.organisation.id}|}" th:text="${user.organisation.code}" th:if="${user.organisation}"/>
					</td>
					<td th:text="${user.email}"></td>
					<td th:text="${user.firstName}"></td>
					<td th:text="${user.lastName}"></td>

					<td th:text="${user.disabledIrForm != null && user.disabledIrForm ? 'Hidden': ''}"></td>
					
					<td>
						<a href="#" class="mr-2" th:href="@{|/users/update/${user.id}|}" th:text="Update"></a>
						<a href="#" th:href="@{|/users/delete/${user.id}|}" onclick="return confirm('Are you sure that you want to delete this user?')" th:text="Delete"></a>
					</td>
				</tr>
			</table>
		</div>
		<div class="card-footer">
			<a href="#" th:href="@{/users/create}" class="btn btn-primary">Create new</a>
		</div>
		
	</div>
</body>
</html>
